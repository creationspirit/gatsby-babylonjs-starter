(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"/SR9":function(t,o,r){"use strict";r.d(o,"d",(function(){return a})),r.d(o,"e",(function(){return u})),r.d(o,"f",(function(){return h})),r.d(o,"b",(function(){return y})),r.d(o,"a",(function(){return f})),r.d(o,"c",(function(){return p}));r("5irr"),r("JHok"),r("R48M"),r("q8oJ"),r("C9fy"),r("8npG");var n=r("sH6m"),i=r("MhaC"),e=r("mHtN"),s=r("WHS4"),a=function(){function t(t,o){void 0===t&&(t=0),void 0===o&&(o=0),this.x=t,this.y=o}return t.prototype.toString=function(){return"{X: "+this.x+" Y:"+this.y+"}"},t.prototype.getClassName=function(){return"Vector2"},t.prototype.getHashCode=function(){var t=0|this.x;return t=397*t^(0|this.y)},t.prototype.toArray=function(t,o){return void 0===o&&(o=0),t[o]=this.x,t[o+1]=this.y,this},t.prototype.asArray=function(){var t=new Array;return this.toArray(t,0),t},t.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this},t.prototype.copyFromFloats=function(t,o){return this.x=t,this.y=o,this},t.prototype.set=function(t,o){return this.copyFromFloats(t,o)},t.prototype.add=function(o){return new t(this.x+o.x,this.y+o.y)},t.prototype.addToRef=function(t,o){return o.x=this.x+t.x,o.y=this.y+t.y,this},t.prototype.addInPlace=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.addVector3=function(o){return new t(this.x+o.x,this.y+o.y)},t.prototype.subtract=function(o){return new t(this.x-o.x,this.y-o.y)},t.prototype.subtractToRef=function(t,o){return o.x=this.x-t.x,o.y=this.y-t.y,this},t.prototype.subtractInPlace=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.multiplyInPlace=function(t){return this.x*=t.x,this.y*=t.y,this},t.prototype.multiply=function(o){return new t(this.x*o.x,this.y*o.y)},t.prototype.multiplyToRef=function(t,o){return o.x=this.x*t.x,o.y=this.y*t.y,this},t.prototype.multiplyByFloats=function(o,r){return new t(this.x*o,this.y*r)},t.prototype.divide=function(o){return new t(this.x/o.x,this.y/o.y)},t.prototype.divideToRef=function(t,o){return o.x=this.x/t.x,o.y=this.y/t.y,this},t.prototype.divideInPlace=function(t){return this.divideToRef(t,this)},t.prototype.negate=function(){return new t(-this.x,-this.y)},t.prototype.negateInPlace=function(){return this.x*=-1,this.y*=-1,this},t.prototype.negateToRef=function(t){return t.copyFromFloats(-1*this.x,-1*this.y)},t.prototype.scaleInPlace=function(t){return this.x*=t,this.y*=t,this},t.prototype.scale=function(o){var r=new t(0,0);return this.scaleToRef(o,r),r},t.prototype.scaleToRef=function(t,o){return o.x=this.x*t,o.y=this.y*t,this},t.prototype.scaleAndAddToRef=function(t,o){return o.x+=this.x*t,o.y+=this.y*t,this},t.prototype.equals=function(t){return t&&this.x===t.x&&this.y===t.y},t.prototype.equalsWithEpsilon=function(t,o){return void 0===o&&(o=i.a),t&&n.a.WithinEpsilon(this.x,t.x,o)&&n.a.WithinEpsilon(this.y,t.y,o)},t.prototype.floor=function(){return new t(Math.floor(this.x),Math.floor(this.y))},t.prototype.fract=function(){return new t(this.x-Math.floor(this.x),this.y-Math.floor(this.y))},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.lengthSquared=function(){return this.x*this.x+this.y*this.y},t.prototype.normalize=function(){var t=this.length();return 0===t||(this.x/=t,this.y/=t),this},t.prototype.clone=function(){return new t(this.x,this.y)},t.Zero=function(){return new t(0,0)},t.One=function(){return new t(1,1)},t.FromArray=function(o,r){return void 0===r&&(r=0),new t(o[r],o[r+1])},t.FromArrayToRef=function(t,o,r){r.x=t[o],r.y=t[o+1]},t.CatmullRom=function(o,r,n,i,e){var s=e*e,a=e*s;return new t(.5*(2*r.x+(-o.x+n.x)*e+(2*o.x-5*r.x+4*n.x-i.x)*s+(-o.x+3*r.x-3*n.x+i.x)*a),.5*(2*r.y+(-o.y+n.y)*e+(2*o.y-5*r.y+4*n.y-i.y)*s+(-o.y+3*r.y-3*n.y+i.y)*a))},t.Clamp=function(o,r,n){var i=o.x;i=(i=i>n.x?n.x:i)<r.x?r.x:i;var e=o.y;return new t(i,e=(e=e>n.y?n.y:e)<r.y?r.y:e)},t.Hermite=function(o,r,n,i,e){var s=e*e,a=e*s,u=2*a-3*s+1,h=-2*a+3*s,y=a-2*s+e,f=a-s;return new t(o.x*u+n.x*h+r.x*y+i.x*f,o.y*u+n.y*h+r.y*y+i.y*f)},t.Lerp=function(o,r,n){return new t(o.x+(r.x-o.x)*n,o.y+(r.y-o.y)*n)},t.Dot=function(t,o){return t.x*o.x+t.y*o.y},t.Normalize=function(t){var o=t.clone();return o.normalize(),o},t.Minimize=function(o,r){return new t(o.x<r.x?o.x:r.x,o.y<r.y?o.y:r.y)},t.Maximize=function(o,r){return new t(o.x>r.x?o.x:r.x,o.y>r.y?o.y:r.y)},t.Transform=function(o,r){var n=t.Zero();return t.TransformToRef(o,r,n),n},t.TransformToRef=function(t,o,r){var n=o.m,i=t.x*n[0]+t.y*n[4]+n[12],e=t.x*n[1]+t.y*n[5]+n[13];r.x=i,r.y=e},t.PointInTriangle=function(t,o,r,n){var i=.5*(-r.y*n.x+o.y*(-r.x+n.x)+o.x*(r.y-n.y)+r.x*n.y),e=i<0?-1:1,s=(o.y*n.x-o.x*n.y+(n.y-o.y)*t.x+(o.x-n.x)*t.y)*e,a=(o.x*r.y-o.y*r.x+(o.y-r.y)*t.x+(r.x-o.x)*t.y)*e;return s>0&&a>0&&s+a<2*i*e},t.Distance=function(o,r){return Math.sqrt(t.DistanceSquared(o,r))},t.DistanceSquared=function(t,o){var r=t.x-o.x,n=t.y-o.y;return r*r+n*n},t.Center=function(t,o){var r=t.add(o);return r.scaleInPlace(.5),r},t.DistanceOfPointFromSegment=function(o,r,n){var i=t.DistanceSquared(r,n);if(0===i)return t.Distance(o,r);var e=n.subtract(r),s=Math.max(0,Math.min(1,t.Dot(o.subtract(r),e)/i)),a=r.add(e.multiplyByFloats(s,s));return t.Distance(o,a)},t}(),u=function(){function t(t,o,r){void 0===t&&(t=0),void 0===o&&(o=0),void 0===r&&(r=0),this.x=t,this.y=o,this.z=r}return t.prototype.toString=function(){return"{X: "+this.x+" Y:"+this.y+" Z:"+this.z+"}"},t.prototype.getClassName=function(){return"Vector3"},t.prototype.getHashCode=function(){var t=0|this.x;return t=397*(t=397*t^(0|this.y))^(0|this.z)},t.prototype.asArray=function(){var t=[];return this.toArray(t,0),t},t.prototype.toArray=function(t,o){return void 0===o&&(o=0),t[o]=this.x,t[o+1]=this.y,t[o+2]=this.z,this},t.prototype.toQuaternion=function(){return y.RotationYawPitchRoll(this.y,this.x,this.z)},t.prototype.addInPlace=function(t){return this.addInPlaceFromFloats(t.x,t.y,t.z)},t.prototype.addInPlaceFromFloats=function(t,o,r){return this.x+=t,this.y+=o,this.z+=r,this},t.prototype.add=function(o){return new t(this.x+o.x,this.y+o.y,this.z+o.z)},t.prototype.addToRef=function(t,o){return o.copyFromFloats(this.x+t.x,this.y+t.y,this.z+t.z)},t.prototype.subtractInPlace=function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this},t.prototype.subtract=function(o){return new t(this.x-o.x,this.y-o.y,this.z-o.z)},t.prototype.subtractToRef=function(t,o){return this.subtractFromFloatsToRef(t.x,t.y,t.z,o)},t.prototype.subtractFromFloats=function(o,r,n){return new t(this.x-o,this.y-r,this.z-n)},t.prototype.subtractFromFloatsToRef=function(t,o,r,n){return n.copyFromFloats(this.x-t,this.y-o,this.z-r)},t.prototype.negate=function(){return new t(-this.x,-this.y,-this.z)},t.prototype.negateInPlace=function(){return this.x*=-1,this.y*=-1,this.z*=-1,this},t.prototype.negateToRef=function(t){return t.copyFromFloats(-1*this.x,-1*this.y,-1*this.z)},t.prototype.scaleInPlace=function(t){return this.x*=t,this.y*=t,this.z*=t,this},t.prototype.scale=function(o){return new t(this.x*o,this.y*o,this.z*o)},t.prototype.scaleToRef=function(t,o){return o.copyFromFloats(this.x*t,this.y*t,this.z*t)},t.prototype.scaleAndAddToRef=function(t,o){return o.addInPlaceFromFloats(this.x*t,this.y*t,this.z*t)},t.prototype.equals=function(t){return t&&this.x===t.x&&this.y===t.y&&this.z===t.z},t.prototype.equalsWithEpsilon=function(t,o){return void 0===o&&(o=i.a),t&&n.a.WithinEpsilon(this.x,t.x,o)&&n.a.WithinEpsilon(this.y,t.y,o)&&n.a.WithinEpsilon(this.z,t.z,o)},t.prototype.equalsToFloats=function(t,o,r){return this.x===t&&this.y===o&&this.z===r},t.prototype.multiplyInPlace=function(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this},t.prototype.multiply=function(t){return this.multiplyByFloats(t.x,t.y,t.z)},t.prototype.multiplyToRef=function(t,o){return o.copyFromFloats(this.x*t.x,this.y*t.y,this.z*t.z)},t.prototype.multiplyByFloats=function(o,r,n){return new t(this.x*o,this.y*r,this.z*n)},t.prototype.divide=function(o){return new t(this.x/o.x,this.y/o.y,this.z/o.z)},t.prototype.divideToRef=function(t,o){return o.copyFromFloats(this.x/t.x,this.y/t.y,this.z/t.z)},t.prototype.divideInPlace=function(t){return this.divideToRef(t,this)},t.prototype.minimizeInPlace=function(t){return this.minimizeInPlaceFromFloats(t.x,t.y,t.z)},t.prototype.maximizeInPlace=function(t){return this.maximizeInPlaceFromFloats(t.x,t.y,t.z)},t.prototype.minimizeInPlaceFromFloats=function(t,o,r){return t<this.x&&(this.x=t),o<this.y&&(this.y=o),r<this.z&&(this.z=r),this},t.prototype.maximizeInPlaceFromFloats=function(t,o,r){return t>this.x&&(this.x=t),o>this.y&&(this.y=o),r>this.z&&(this.z=r),this},t.prototype.isNonUniformWithinEpsilon=function(t){var o=Math.abs(this.x),r=Math.abs(this.y);if(!n.a.WithinEpsilon(o,r,t))return!0;var i=Math.abs(this.z);return!n.a.WithinEpsilon(o,i,t)||!n.a.WithinEpsilon(r,i,t)},Object.defineProperty(t.prototype,"isNonUniform",{get:function(){var t=Math.abs(this.x),o=Math.abs(this.y);if(t!==o)return!0;var r=Math.abs(this.z);return t!==r||o!==r},enumerable:!0,configurable:!0}),t.prototype.floor=function(){return new t(Math.floor(this.x),Math.floor(this.y),Math.floor(this.z))},t.prototype.fract=function(){return new t(this.x-Math.floor(this.x),this.y-Math.floor(this.y),this.z-Math.floor(this.z))},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},t.prototype.lengthSquared=function(){return this.x*this.x+this.y*this.y+this.z*this.z},t.prototype.normalize=function(){return this.normalizeFromLength(this.length())},t.prototype.reorderInPlace=function(t){var o=this;return"xyz"===(t=t.toLowerCase())||(c.Vector3[0].copyFrom(this),["x","y","z"].forEach((function(r,n){o[r]=c.Vector3[0][t[n]]}))),this},t.prototype.rotateByQuaternionToRef=function(o,r){return o.toRotationMatrix(c.Matrix[0]),t.TransformCoordinatesToRef(this,c.Matrix[0],r),r},t.prototype.rotateByQuaternionAroundPointToRef=function(t,o,r){return this.subtractToRef(o,c.Vector3[0]),c.Vector3[0].rotateByQuaternionToRef(t,c.Vector3[0]),o.addToRef(c.Vector3[0],r),r},t.prototype.cross=function(o){return t.Cross(this,o)},t.prototype.normalizeFromLength=function(t){return 0===t||1===t?this:this.scaleInPlace(1/t)},t.prototype.normalizeToNew=function(){var o=new t(0,0,0);return this.normalizeToRef(o),o},t.prototype.normalizeToRef=function(t){var o=this.length();return 0===o||1===o?t.copyFromFloats(this.x,this.y,this.z):this.scaleToRef(1/o,t)},t.prototype.clone=function(){return new t(this.x,this.y,this.z)},t.prototype.copyFrom=function(t){return this.copyFromFloats(t.x,t.y,t.z)},t.prototype.copyFromFloats=function(t,o,r){return this.x=t,this.y=o,this.z=r,this},t.prototype.set=function(t,o,r){return this.copyFromFloats(t,o,r)},t.prototype.setAll=function(t){return this.x=this.y=this.z=t,this},t.GetClipFactor=function(o,r,n,i){var e=t.Dot(o,n)-i;return e/(e-(t.Dot(r,n)-i))},t.GetAngleBetweenVectors=function(o,r,n){var i=o.normalizeToRef(c.Vector3[1]),e=r.normalizeToRef(c.Vector3[2]),s=t.Dot(i,e),a=c.Vector3[3];return t.CrossToRef(i,e,a),t.Dot(a,n)>0?Math.acos(s):-Math.acos(s)},t.FromArray=function(o,r){return void 0===r&&(r=0),new t(o[r],o[r+1],o[r+2])},t.FromFloatArray=function(o,r){return t.FromArray(o,r)},t.FromArrayToRef=function(t,o,r){r.x=t[o],r.y=t[o+1],r.z=t[o+2]},t.FromFloatArrayToRef=function(o,r,n){return t.FromArrayToRef(o,r,n)},t.FromFloatsToRef=function(t,o,r,n){n.copyFromFloats(t,o,r)},t.Zero=function(){return new t(0,0,0)},t.One=function(){return new t(1,1,1)},t.Up=function(){return new t(0,1,0)},Object.defineProperty(t,"UpReadOnly",{get:function(){return t._UpReadOnly},enumerable:!0,configurable:!0}),Object.defineProperty(t,"ZeroReadOnly",{get:function(){return t._ZeroReadOnly},enumerable:!0,configurable:!0}),t.Down=function(){return new t(0,-1,0)},t.Forward=function(){return new t(0,0,1)},t.Backward=function(){return new t(0,0,-1)},t.Right=function(){return new t(1,0,0)},t.Left=function(){return new t(-1,0,0)},t.TransformCoordinates=function(o,r){var n=t.Zero();return t.TransformCoordinatesToRef(o,r,n),n},t.TransformCoordinatesToRef=function(o,r,n){t.TransformCoordinatesFromFloatsToRef(o.x,o.y,o.z,r,n)},t.TransformCoordinatesFromFloatsToRef=function(t,o,r,n,i){var e=n.m,s=t*e[0]+o*e[4]+r*e[8]+e[12],a=t*e[1]+o*e[5]+r*e[9]+e[13],u=t*e[2]+o*e[6]+r*e[10]+e[14],h=1/(t*e[3]+o*e[7]+r*e[11]+e[15]);i.x=s*h,i.y=a*h,i.z=u*h},t.TransformNormal=function(o,r){var n=t.Zero();return t.TransformNormalToRef(o,r,n),n},t.TransformNormalToRef=function(t,o,r){this.TransformNormalFromFloatsToRef(t.x,t.y,t.z,o,r)},t.TransformNormalFromFloatsToRef=function(t,o,r,n,i){var e=n.m;i.x=t*e[0]+o*e[4]+r*e[8],i.y=t*e[1]+o*e[5]+r*e[9],i.z=t*e[2]+o*e[6]+r*e[10]},t.CatmullRom=function(o,r,n,i,e){var s=e*e,a=e*s;return new t(.5*(2*r.x+(-o.x+n.x)*e+(2*o.x-5*r.x+4*n.x-i.x)*s+(-o.x+3*r.x-3*n.x+i.x)*a),.5*(2*r.y+(-o.y+n.y)*e+(2*o.y-5*r.y+4*n.y-i.y)*s+(-o.y+3*r.y-3*n.y+i.y)*a),.5*(2*r.z+(-o.z+n.z)*e+(2*o.z-5*r.z+4*n.z-i.z)*s+(-o.z+3*r.z-3*n.z+i.z)*a))},t.Clamp=function(o,r,n){var i=new t;return t.ClampToRef(o,r,n,i),i},t.ClampToRef=function(t,o,r,n){var i=t.x;i=(i=i>r.x?r.x:i)<o.x?o.x:i;var e=t.y;e=(e=e>r.y?r.y:e)<o.y?o.y:e;var s=t.z;s=(s=s>r.z?r.z:s)<o.z?o.z:s,n.copyFromFloats(i,e,s)},t.CheckExtends=function(t,o,r){o.minimizeInPlace(t),r.maximizeInPlace(t)},t.Hermite=function(o,r,n,i,e){var s=e*e,a=e*s,u=2*a-3*s+1,h=-2*a+3*s,y=a-2*s+e,f=a-s;return new t(o.x*u+n.x*h+r.x*y+i.x*f,o.y*u+n.y*h+r.y*y+i.y*f,o.z*u+n.z*h+r.z*y+i.z*f)},t.Lerp=function(o,r,n){var i=new t(0,0,0);return t.LerpToRef(o,r,n,i),i},t.LerpToRef=function(t,o,r,n){n.x=t.x+(o.x-t.x)*r,n.y=t.y+(o.y-t.y)*r,n.z=t.z+(o.z-t.z)*r},t.Dot=function(t,o){return t.x*o.x+t.y*o.y+t.z*o.z},t.Cross=function(o,r){var n=t.Zero();return t.CrossToRef(o,r,n),n},t.CrossToRef=function(t,o,r){var n=t.y*o.z-t.z*o.y,i=t.z*o.x-t.x*o.z,e=t.x*o.y-t.y*o.x;r.copyFromFloats(n,i,e)},t.Normalize=function(o){var r=t.Zero();return t.NormalizeToRef(o,r),r},t.NormalizeToRef=function(t,o){t.normalizeToRef(o)},t.Project=function(o,r,n,i){var e=i.width,s=i.height,a=i.x,u=i.y,h=c.Matrix[1];f.FromValuesToRef(e/2,0,0,0,0,-s/2,0,0,0,0,.5,0,a+e/2,s/2+u,.5,1,h);var y=c.Matrix[0];return r.multiplyToRef(n,y),y.multiplyToRef(h,y),t.TransformCoordinates(o,y)},t._UnprojectFromInvertedMatrixToRef=function(o,r,i){t.TransformCoordinatesToRef(o,r,i);var e=r.m,s=o.x*e[3]+o.y*e[7]+o.z*e[11]+e[15];n.a.WithinEpsilon(s,1)&&i.scaleInPlace(1/s)},t.UnprojectFromTransform=function(o,r,n,i,e){var s=c.Matrix[0];i.multiplyToRef(e,s),s.invert(),o.x=o.x/r*2-1,o.y=-(o.y/n*2-1);var a=new t;return t._UnprojectFromInvertedMatrixToRef(o,s,a),a},t.Unproject=function(o,r,n,i,e,s){var a=t.Zero();return t.UnprojectToRef(o,r,n,i,e,s,a),a},t.UnprojectToRef=function(o,r,n,i,e,s,a){t.UnprojectFloatsToRef(o.x,o.y,o.z,r,n,i,e,s,a)},t.UnprojectFloatsToRef=function(o,r,n,i,e,s,a,u,h){var y=c.Matrix[0];s.multiplyToRef(a,y),y.multiplyToRef(u,y),y.invert();var f=c.Vector3[0];f.x=o/i*2-1,f.y=-(r/e*2-1),f.z=2*n-1,t._UnprojectFromInvertedMatrixToRef(f,y,h)},t.Minimize=function(t,o){var r=t.clone();return r.minimizeInPlace(o),r},t.Maximize=function(t,o){var r=t.clone();return r.maximizeInPlace(o),r},t.Distance=function(o,r){return Math.sqrt(t.DistanceSquared(o,r))},t.DistanceSquared=function(t,o){var r=t.x-o.x,n=t.y-o.y,i=t.z-o.z;return r*r+n*n+i*i},t.Center=function(t,o){var r=t.add(o);return r.scaleInPlace(.5),r},t.RotationFromAxis=function(o,r,n){var i=t.Zero();return t.RotationFromAxisToRef(o,r,n,i),i},t.RotationFromAxisToRef=function(t,o,r,n){var i=c.Quaternion[0];y.RotationQuaternionFromAxisToRef(t,o,r,i),i.toEulerAnglesToRef(n)},t._UpReadOnly=t.Up(),t._ZeroReadOnly=t.Zero(),t}(),h=function(){function t(t,o,r,n){this.x=t,this.y=o,this.z=r,this.w=n}return t.prototype.toString=function(){return"{X: "+this.x+" Y:"+this.y+" Z:"+this.z+" W:"+this.w+"}"},t.prototype.getClassName=function(){return"Vector4"},t.prototype.getHashCode=function(){var t=0|this.x;return t=397*(t=397*(t=397*t^(0|this.y))^(0|this.z))^(0|this.w)},t.prototype.asArray=function(){var t=new Array;return this.toArray(t,0),t},t.prototype.toArray=function(t,o){return void 0===o&&(o=0),t[o]=this.x,t[o+1]=this.y,t[o+2]=this.z,t[o+3]=this.w,this},t.prototype.addInPlace=function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this},t.prototype.add=function(o){return new t(this.x+o.x,this.y+o.y,this.z+o.z,this.w+o.w)},t.prototype.addToRef=function(t,o){return o.x=this.x+t.x,o.y=this.y+t.y,o.z=this.z+t.z,o.w=this.w+t.w,this},t.prototype.subtractInPlace=function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this},t.prototype.subtract=function(o){return new t(this.x-o.x,this.y-o.y,this.z-o.z,this.w-o.w)},t.prototype.subtractToRef=function(t,o){return o.x=this.x-t.x,o.y=this.y-t.y,o.z=this.z-t.z,o.w=this.w-t.w,this},t.prototype.subtractFromFloats=function(o,r,n,i){return new t(this.x-o,this.y-r,this.z-n,this.w-i)},t.prototype.subtractFromFloatsToRef=function(t,o,r,n,i){return i.x=this.x-t,i.y=this.y-o,i.z=this.z-r,i.w=this.w-n,this},t.prototype.negate=function(){return new t(-this.x,-this.y,-this.z,-this.w)},t.prototype.negateInPlace=function(){return this.x*=-1,this.y*=-1,this.z*=-1,this.w*=-1,this},t.prototype.negateToRef=function(t){return t.copyFromFloats(-1*this.x,-1*this.y,-1*this.z,-1*this.w)},t.prototype.scaleInPlace=function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},t.prototype.scale=function(o){return new t(this.x*o,this.y*o,this.z*o,this.w*o)},t.prototype.scaleToRef=function(t,o){return o.x=this.x*t,o.y=this.y*t,o.z=this.z*t,o.w=this.w*t,this},t.prototype.scaleAndAddToRef=function(t,o){return o.x+=this.x*t,o.y+=this.y*t,o.z+=this.z*t,o.w+=this.w*t,this},t.prototype.equals=function(t){return t&&this.x===t.x&&this.y===t.y&&this.z===t.z&&this.w===t.w},t.prototype.equalsWithEpsilon=function(t,o){return void 0===o&&(o=i.a),t&&n.a.WithinEpsilon(this.x,t.x,o)&&n.a.WithinEpsilon(this.y,t.y,o)&&n.a.WithinEpsilon(this.z,t.z,o)&&n.a.WithinEpsilon(this.w,t.w,o)},t.prototype.equalsToFloats=function(t,o,r,n){return this.x===t&&this.y===o&&this.z===r&&this.w===n},t.prototype.multiplyInPlace=function(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this},t.prototype.multiply=function(o){return new t(this.x*o.x,this.y*o.y,this.z*o.z,this.w*o.w)},t.prototype.multiplyToRef=function(t,o){return o.x=this.x*t.x,o.y=this.y*t.y,o.z=this.z*t.z,o.w=this.w*t.w,this},t.prototype.multiplyByFloats=function(o,r,n,i){return new t(this.x*o,this.y*r,this.z*n,this.w*i)},t.prototype.divide=function(o){return new t(this.x/o.x,this.y/o.y,this.z/o.z,this.w/o.w)},t.prototype.divideToRef=function(t,o){return o.x=this.x/t.x,o.y=this.y/t.y,o.z=this.z/t.z,o.w=this.w/t.w,this},t.prototype.divideInPlace=function(t){return this.divideToRef(t,this)},t.prototype.minimizeInPlace=function(t){return t.x<this.x&&(this.x=t.x),t.y<this.y&&(this.y=t.y),t.z<this.z&&(this.z=t.z),t.w<this.w&&(this.w=t.w),this},t.prototype.maximizeInPlace=function(t){return t.x>this.x&&(this.x=t.x),t.y>this.y&&(this.y=t.y),t.z>this.z&&(this.z=t.z),t.w>this.w&&(this.w=t.w),this},t.prototype.floor=function(){return new t(Math.floor(this.x),Math.floor(this.y),Math.floor(this.z),Math.floor(this.w))},t.prototype.fract=function(){return new t(this.x-Math.floor(this.x),this.y-Math.floor(this.y),this.z-Math.floor(this.z),this.w-Math.floor(this.w))},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},t.prototype.lengthSquared=function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},t.prototype.normalize=function(){var t=this.length();return 0===t?this:this.scaleInPlace(1/t)},t.prototype.toVector3=function(){return new u(this.x,this.y,this.z)},t.prototype.clone=function(){return new t(this.x,this.y,this.z,this.w)},t.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this},t.prototype.copyFromFloats=function(t,o,r,n){return this.x=t,this.y=o,this.z=r,this.w=n,this},t.prototype.set=function(t,o,r,n){return this.copyFromFloats(t,o,r,n)},t.prototype.setAll=function(t){return this.x=this.y=this.z=this.w=t,this},t.FromArray=function(o,r){return r||(r=0),new t(o[r],o[r+1],o[r+2],o[r+3])},t.FromArrayToRef=function(t,o,r){r.x=t[o],r.y=t[o+1],r.z=t[o+2],r.w=t[o+3]},t.FromFloatArrayToRef=function(o,r,n){t.FromArrayToRef(o,r,n)},t.FromFloatsToRef=function(t,o,r,n,i){i.x=t,i.y=o,i.z=r,i.w=n},t.Zero=function(){return new t(0,0,0,0)},t.One=function(){return new t(1,1,1,1)},t.Normalize=function(o){var r=t.Zero();return t.NormalizeToRef(o,r),r},t.NormalizeToRef=function(t,o){o.copyFrom(t),o.normalize()},t.Minimize=function(t,o){var r=t.clone();return r.minimizeInPlace(o),r},t.Maximize=function(t,o){var r=t.clone();return r.maximizeInPlace(o),r},t.Distance=function(o,r){return Math.sqrt(t.DistanceSquared(o,r))},t.DistanceSquared=function(t,o){var r=t.x-o.x,n=t.y-o.y,i=t.z-o.z,e=t.w-o.w;return r*r+n*n+i*i+e*e},t.Center=function(t,o){var r=t.add(o);return r.scaleInPlace(.5),r},t.TransformNormal=function(o,r){var n=t.Zero();return t.TransformNormalToRef(o,r,n),n},t.TransformNormalToRef=function(t,o,r){var n=o.m,i=t.x*n[0]+t.y*n[4]+t.z*n[8],e=t.x*n[1]+t.y*n[5]+t.z*n[9],s=t.x*n[2]+t.y*n[6]+t.z*n[10];r.x=i,r.y=e,r.z=s,r.w=t.w},t.TransformNormalFromFloatsToRef=function(t,o,r,n,i,e){var s=i.m;e.x=t*s[0]+o*s[4]+r*s[8],e.y=t*s[1]+o*s[5]+r*s[9],e.z=t*s[2]+o*s[6]+r*s[10],e.w=n},t.FromVector3=function(o,r){return void 0===r&&(r=0),new t(o.x,o.y,o.z,r)},t}(),y=function(){function t(t,o,r,n){void 0===t&&(t=0),void 0===o&&(o=0),void 0===r&&(r=0),void 0===n&&(n=1),this.x=t,this.y=o,this.z=r,this.w=n}return t.prototype.toString=function(){return"{X: "+this.x+" Y:"+this.y+" Z:"+this.z+" W:"+this.w+"}"},t.prototype.getClassName=function(){return"Quaternion"},t.prototype.getHashCode=function(){var t=0|this.x;return t=397*(t=397*(t=397*t^(0|this.y))^(0|this.z))^(0|this.w)},t.prototype.asArray=function(){return[this.x,this.y,this.z,this.w]},t.prototype.equals=function(t){return t&&this.x===t.x&&this.y===t.y&&this.z===t.z&&this.w===t.w},t.prototype.equalsWithEpsilon=function(t,o){return void 0===o&&(o=i.a),t&&n.a.WithinEpsilon(this.x,t.x,o)&&n.a.WithinEpsilon(this.y,t.y,o)&&n.a.WithinEpsilon(this.z,t.z,o)&&n.a.WithinEpsilon(this.w,t.w,o)},t.prototype.clone=function(){return new t(this.x,this.y,this.z,this.w)},t.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this},t.prototype.copyFromFloats=function(t,o,r,n){return this.x=t,this.y=o,this.z=r,this.w=n,this},t.prototype.set=function(t,o,r,n){return this.copyFromFloats(t,o,r,n)},t.prototype.add=function(o){return new t(this.x+o.x,this.y+o.y,this.z+o.z,this.w+o.w)},t.prototype.addInPlace=function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this},t.prototype.subtract=function(o){return new t(this.x-o.x,this.y-o.y,this.z-o.z,this.w-o.w)},t.prototype.scale=function(o){return new t(this.x*o,this.y*o,this.z*o,this.w*o)},t.prototype.scaleToRef=function(t,o){return o.x=this.x*t,o.y=this.y*t,o.z=this.z*t,o.w=this.w*t,this},t.prototype.scaleInPlace=function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},t.prototype.scaleAndAddToRef=function(t,o){return o.x+=this.x*t,o.y+=this.y*t,o.z+=this.z*t,o.w+=this.w*t,this},t.prototype.multiply=function(o){var r=new t(0,0,0,1);return this.multiplyToRef(o,r),r},t.prototype.multiplyToRef=function(t,o){var r=this.x*t.w+this.y*t.z-this.z*t.y+this.w*t.x,n=-this.x*t.z+this.y*t.w+this.z*t.x+this.w*t.y,i=this.x*t.y-this.y*t.x+this.z*t.w+this.w*t.z,e=-this.x*t.x-this.y*t.y-this.z*t.z+this.w*t.w;return o.copyFromFloats(r,n,i,e),this},t.prototype.multiplyInPlace=function(t){return this.multiplyToRef(t,this),this},t.prototype.conjugateToRef=function(t){return t.copyFromFloats(-this.x,-this.y,-this.z,this.w),this},t.prototype.conjugateInPlace=function(){return this.x*=-1,this.y*=-1,this.z*=-1,this},t.prototype.conjugate=function(){return new t(-this.x,-this.y,-this.z,this.w)},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},t.prototype.normalize=function(){var t=this.length();if(0===t)return this;var o=1/t;return this.x*=o,this.y*=o,this.z*=o,this.w*=o,this},t.prototype.toEulerAngles=function(t){void 0===t&&(t="YZX");var o=u.Zero();return this.toEulerAnglesToRef(o),o},t.prototype.toEulerAnglesToRef=function(t){var o=this.z,r=this.x,n=this.y,i=this.w,e=i*i,s=o*o,a=r*r,u=n*n,h=n*o-r*i;return h<-.4999999?(t.y=2*Math.atan2(n,i),t.x=Math.PI/2,t.z=0):h>.4999999?(t.y=2*Math.atan2(n,i),t.x=-Math.PI/2,t.z=0):(t.z=Math.atan2(2*(r*n+o*i),-s-a+u+e),t.x=Math.asin(-2*(o*n-r*i)),t.y=Math.atan2(2*(o*r+n*i),s-a-u+e)),this},t.prototype.toRotationMatrix=function(t){return f.FromQuaternionToRef(this,t),this},t.prototype.fromRotationMatrix=function(o){return t.FromRotationMatrixToRef(o,this),this},t.FromRotationMatrix=function(o){var r=new t;return t.FromRotationMatrixToRef(o,r),r},t.FromRotationMatrixToRef=function(t,o){var r,n=t.m,i=n[0],e=n[4],s=n[8],a=n[1],u=n[5],h=n[9],y=n[2],f=n[6],c=n[10],p=i+u+c;p>0?(r=.5/Math.sqrt(p+1),o.w=.25/r,o.x=(f-h)*r,o.y=(s-y)*r,o.z=(a-e)*r):i>u&&i>c?(r=2*Math.sqrt(1+i-u-c),o.w=(f-h)/r,o.x=.25*r,o.y=(e+a)/r,o.z=(s+y)/r):u>c?(r=2*Math.sqrt(1+u-i-c),o.w=(s-y)/r,o.x=(e+a)/r,o.y=.25*r,o.z=(h+f)/r):(r=2*Math.sqrt(1+c-i-u),o.w=(a-e)/r,o.x=(s+y)/r,o.y=(h+f)/r,o.z=.25*r)},t.Dot=function(t,o){return t.x*o.x+t.y*o.y+t.z*o.z+t.w*o.w},t.AreClose=function(o,r){return t.Dot(o,r)>=0},t.Zero=function(){return new t(0,0,0,0)},t.Inverse=function(o){return new t(-o.x,-o.y,-o.z,o.w)},t.InverseToRef=function(t,o){return o.set(-t.x,-t.y,-t.z,t.w),o},t.Identity=function(){return new t(0,0,0,1)},t.IsIdentity=function(t){return t&&0===t.x&&0===t.y&&0===t.z&&1===t.w},t.RotationAxis=function(o,r){return t.RotationAxisToRef(o,r,new t)},t.RotationAxisToRef=function(t,o,r){var n=Math.sin(o/2);return t.normalize(),r.w=Math.cos(o/2),r.x=t.x*n,r.y=t.y*n,r.z=t.z*n,r},t.FromArray=function(o,r){return r||(r=0),new t(o[r],o[r+1],o[r+2],o[r+3])},t.FromEulerAngles=function(o,r,n){var i=new t;return t.RotationYawPitchRollToRef(r,o,n,i),i},t.FromEulerAnglesToRef=function(o,r,n,i){return t.RotationYawPitchRollToRef(r,o,n,i),i},t.FromEulerVector=function(o){var r=new t;return t.RotationYawPitchRollToRef(o.y,o.x,o.z,r),r},t.FromEulerVectorToRef=function(o,r){return t.RotationYawPitchRollToRef(o.y,o.x,o.z,r),r},t.RotationYawPitchRoll=function(o,r,n){var i=new t;return t.RotationYawPitchRollToRef(o,r,n,i),i},t.RotationYawPitchRollToRef=function(t,o,r,n){var i=.5*r,e=.5*o,s=.5*t,a=Math.sin(i),u=Math.cos(i),h=Math.sin(e),y=Math.cos(e),f=Math.sin(s),c=Math.cos(s);n.x=c*h*u+f*y*a,n.y=f*y*u-c*h*a,n.z=c*y*a-f*h*u,n.w=c*y*u+f*h*a},t.RotationAlphaBetaGamma=function(o,r,n){var i=new t;return t.RotationAlphaBetaGammaToRef(o,r,n,i),i},t.RotationAlphaBetaGammaToRef=function(t,o,r,n){var i=.5*(r+t),e=.5*(r-t),s=.5*o;n.x=Math.cos(e)*Math.sin(s),n.y=Math.sin(e)*Math.sin(s),n.z=Math.sin(i)*Math.cos(s),n.w=Math.cos(i)*Math.cos(s)},t.RotationQuaternionFromAxis=function(o,r,n){var i=new t(0,0,0,0);return t.RotationQuaternionFromAxisToRef(o,r,n,i),i},t.RotationQuaternionFromAxisToRef=function(o,r,n,i){var e=c.Matrix[0];f.FromXYZAxesToRef(o.normalize(),r.normalize(),n.normalize(),e),t.FromRotationMatrixToRef(e,i)},t.Slerp=function(o,r,n){var i=t.Identity();return t.SlerpToRef(o,r,n,i),i},t.SlerpToRef=function(t,o,r,n){var i,e,s=t.x*o.x+t.y*o.y+t.z*o.z+t.w*o.w,a=!1;if(s<0&&(a=!0,s=-s),s>.999999)e=1-r,i=a?-r:r;else{var u=Math.acos(s),h=1/Math.sin(u);e=Math.sin((1-r)*u)*h,i=a?-Math.sin(r*u)*h:Math.sin(r*u)*h}n.x=e*t.x+i*o.x,n.y=e*t.y+i*o.y,n.z=e*t.z+i*o.z,n.w=e*t.w+i*o.w},t.Hermite=function(o,r,n,i,e){var s=e*e,a=e*s,u=2*a-3*s+1,h=-2*a+3*s,y=a-2*s+e,f=a-s;return new t(o.x*u+n.x*h+r.x*y+i.x*f,o.y*u+n.y*h+r.y*y+i.y*f,o.z*u+n.z*h+r.z*y+i.z*f,o.w*u+n.w*h+r.w*y+i.w*f)},t}(),f=function(){function t(){this._isIdentity=!1,this._isIdentityDirty=!0,this._isIdentity3x2=!0,this._isIdentity3x2Dirty=!0,this.updateFlag=-1,this._m=new Float32Array(16),this._updateIdentityStatus(!1)}return Object.defineProperty(t.prototype,"m",{get:function(){return this._m},enumerable:!0,configurable:!0}),t.prototype._markAsUpdated=function(){this.updateFlag=t._updateFlagSeed++,this._isIdentity=!1,this._isIdentity3x2=!1,this._isIdentityDirty=!0,this._isIdentity3x2Dirty=!0},t.prototype._updateIdentityStatus=function(o,r,n,i){void 0===r&&(r=!1),void 0===n&&(n=!1),void 0===i&&(i=!0),this.updateFlag=t._updateFlagSeed++,this._isIdentity=o,this._isIdentity3x2=o||n,this._isIdentityDirty=!this._isIdentity&&r,this._isIdentity3x2Dirty=!this._isIdentity3x2&&i},t.prototype.isIdentity=function(){if(this._isIdentityDirty){this._isIdentityDirty=!1;var t=this._m;this._isIdentity=1===t[0]&&0===t[1]&&0===t[2]&&0===t[3]&&0===t[4]&&1===t[5]&&0===t[6]&&0===t[7]&&0===t[8]&&0===t[9]&&1===t[10]&&0===t[11]&&0===t[12]&&0===t[13]&&0===t[14]&&1===t[15]}return this._isIdentity},t.prototype.isIdentityAs3x2=function(){return this._isIdentity3x2Dirty&&(this._isIdentity3x2Dirty=!1,1!==this._m[0]||1!==this._m[5]||1!==this._m[15]||0!==this._m[1]||0!==this._m[2]||0!==this._m[3]||0!==this._m[4]||0!==this._m[6]||0!==this._m[7]||0!==this._m[8]||0!==this._m[9]||0!==this._m[10]||0!==this._m[11]||0!==this._m[12]||0!==this._m[13]||0!==this._m[14]?this._isIdentity3x2=!1:this._isIdentity3x2=!0),this._isIdentity3x2},t.prototype.determinant=function(){if(!0===this._isIdentity)return 1;var t=this._m,o=t[0],r=t[1],n=t[2],i=t[3],e=t[4],s=t[5],a=t[6],u=t[7],h=t[8],y=t[9],f=t[10],c=t[11],p=t[12],l=t[13],x=t[14],m=t[15],d=f*m-x*c,z=y*m-l*c,R=y*x-l*f,w=h*m-p*c,T=h*x-f*p,v=h*l-p*y;return o*+(s*d-a*z+u*R)+r*-(e*d-a*w+u*T)+n*+(e*z-s*w+u*v)+i*-(e*R-s*T+a*v)},t.prototype.toArray=function(){return this._m},t.prototype.asArray=function(){return this._m},t.prototype.invert=function(){return this.invertToRef(this),this},t.prototype.reset=function(){return t.FromValuesToRef(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,this),this._updateIdentityStatus(!1),this},t.prototype.add=function(o){var r=new t;return this.addToRef(o,r),r},t.prototype.addToRef=function(t,o){for(var r=this._m,n=o._m,i=t.m,e=0;e<16;e++)n[e]=r[e]+i[e];return o._markAsUpdated(),this},t.prototype.addToSelf=function(t){for(var o=this._m,r=t.m,n=0;n<16;n++)o[n]+=r[n];return this._markAsUpdated(),this},t.prototype.invertToRef=function(o){if(!0===this._isIdentity)return t.IdentityToRef(o),this;var r=this._m,n=r[0],i=r[1],e=r[2],s=r[3],a=r[4],u=r[5],h=r[6],y=r[7],f=r[8],c=r[9],p=r[10],l=r[11],x=r[12],m=r[13],d=r[14],z=r[15],R=p*z-d*l,w=c*z-m*l,T=c*d-m*p,v=f*z-x*l,F=f*d-p*x,_=f*m-x*c,M=+(u*R-h*w+y*T),I=-(a*R-h*v+y*F),A=+(a*w-u*v+y*_),g=-(a*T-u*F+h*_),P=n*M+i*I+e*A+s*g;if(0===P)return o.copyFrom(this),this;var V=1/P,C=h*z-d*y,D=u*z-m*y,S=u*d-m*h,b=a*z-x*y,L=a*d-x*h,q=a*m-x*u,U=h*l-p*y,H=u*l-c*y,O=u*p-c*h,k=a*l-f*y,Z=a*p-f*h,E=a*c-f*u,N=-(i*R-e*w+s*T),B=+(n*R-e*v+s*F),W=-(n*w-i*v+s*_),Y=+(n*T-i*F+e*_),j=+(i*C-e*D+s*S),Q=-(n*C-e*b+s*L),X=+(n*D-i*b+s*q),G=-(n*S-i*L+e*q),J=-(i*U-e*H+s*O),K=+(n*U-e*k+s*Z),$=-(n*H-i*k+s*E),tt=+(n*O-i*Z+e*E);return t.FromValuesToRef(M*V,N*V,j*V,J*V,I*V,B*V,Q*V,K*V,A*V,W*V,X*V,$*V,g*V,Y*V,G*V,tt*V,o),this},t.prototype.addAtIndex=function(t,o){return this._m[t]+=o,this._markAsUpdated(),this},t.prototype.multiplyAtIndex=function(t,o){return this._m[t]*=o,this._markAsUpdated(),this},t.prototype.setTranslationFromFloats=function(t,o,r){return this._m[12]=t,this._m[13]=o,this._m[14]=r,this._markAsUpdated(),this},t.prototype.addTranslationFromFloats=function(t,o,r){return this._m[12]+=t,this._m[13]+=o,this._m[14]+=r,this._markAsUpdated(),this},t.prototype.setTranslation=function(t){return this.setTranslationFromFloats(t.x,t.y,t.z)},t.prototype.getTranslation=function(){return new u(this._m[12],this._m[13],this._m[14])},t.prototype.getTranslationToRef=function(t){return t.x=this._m[12],t.y=this._m[13],t.z=this._m[14],this},t.prototype.removeRotationAndScaling=function(){var o=this.m;return t.FromValuesToRef(1,0,0,0,0,1,0,0,0,0,1,0,o[12],o[13],o[14],o[15],this),this._updateIdentityStatus(0===o[12]&&0===o[13]&&0===o[14]&&1===o[15]),this},t.prototype.multiply=function(o){var r=new t;return this.multiplyToRef(o,r),r},t.prototype.copyFrom=function(t){t.copyToArray(this._m);var o=t;return this._updateIdentityStatus(o._isIdentity,o._isIdentityDirty,o._isIdentity3x2,o._isIdentity3x2Dirty),this},t.prototype.copyToArray=function(t,o){void 0===o&&(o=0);var r=this._m;return t[o]=r[0],t[o+1]=r[1],t[o+2]=r[2],t[o+3]=r[3],t[o+4]=r[4],t[o+5]=r[5],t[o+6]=r[6],t[o+7]=r[7],t[o+8]=r[8],t[o+9]=r[9],t[o+10]=r[10],t[o+11]=r[11],t[o+12]=r[12],t[o+13]=r[13],t[o+14]=r[14],t[o+15]=r[15],this},t.prototype.multiplyToRef=function(t,o){return this._isIdentity?(o.copyFrom(t),this):t._isIdentity?(o.copyFrom(this),this):(this.multiplyToArray(t,o._m,0),o._markAsUpdated(),this)},t.prototype.multiplyToArray=function(t,o,r){var n=this._m,i=t.m,e=n[0],s=n[1],a=n[2],u=n[3],h=n[4],y=n[5],f=n[6],c=n[7],p=n[8],l=n[9],x=n[10],m=n[11],d=n[12],z=n[13],R=n[14],w=n[15],T=i[0],v=i[1],F=i[2],_=i[3],M=i[4],I=i[5],A=i[6],g=i[7],P=i[8],V=i[9],C=i[10],D=i[11],S=i[12],b=i[13],L=i[14],q=i[15];return o[r]=e*T+s*M+a*P+u*S,o[r+1]=e*v+s*I+a*V+u*b,o[r+2]=e*F+s*A+a*C+u*L,o[r+3]=e*_+s*g+a*D+u*q,o[r+4]=h*T+y*M+f*P+c*S,o[r+5]=h*v+y*I+f*V+c*b,o[r+6]=h*F+y*A+f*C+c*L,o[r+7]=h*_+y*g+f*D+c*q,o[r+8]=p*T+l*M+x*P+m*S,o[r+9]=p*v+l*I+x*V+m*b,o[r+10]=p*F+l*A+x*C+m*L,o[r+11]=p*_+l*g+x*D+m*q,o[r+12]=d*T+z*M+R*P+w*S,o[r+13]=d*v+z*I+R*V+w*b,o[r+14]=d*F+z*A+R*C+w*L,o[r+15]=d*_+z*g+R*D+w*q,this},t.prototype.equals=function(t){var o=t;if(!o)return!1;if((this._isIdentity||o._isIdentity)&&!this._isIdentityDirty&&!o._isIdentityDirty)return this._isIdentity&&o._isIdentity;var r=this.m,n=o.m;return r[0]===n[0]&&r[1]===n[1]&&r[2]===n[2]&&r[3]===n[3]&&r[4]===n[4]&&r[5]===n[5]&&r[6]===n[6]&&r[7]===n[7]&&r[8]===n[8]&&r[9]===n[9]&&r[10]===n[10]&&r[11]===n[11]&&r[12]===n[12]&&r[13]===n[13]&&r[14]===n[14]&&r[15]===n[15]},t.prototype.clone=function(){var o=new t;return o.copyFrom(this),o},t.prototype.getClassName=function(){return"Matrix"},t.prototype.getHashCode=function(){for(var t=0|this._m[0],o=1;o<16;o++)t=397*t^(0|this._m[o]);return t},t.prototype.decompose=function(o,r,n){if(this._isIdentity)return n&&n.setAll(0),o&&o.setAll(1),r&&r.copyFromFloats(0,0,0,1),!0;var i=this._m;if(n&&n.copyFromFloats(i[12],i[13],i[14]),(o=o||c.Vector3[0]).x=Math.sqrt(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]),o.y=Math.sqrt(i[4]*i[4]+i[5]*i[5]+i[6]*i[6]),o.z=Math.sqrt(i[8]*i[8]+i[9]*i[9]+i[10]*i[10]),this.determinant()<=0&&(o.y*=-1),0===o.x||0===o.y||0===o.z)return r&&r.copyFromFloats(0,0,0,1),!1;if(r){var e=1/o.x,s=1/o.y,a=1/o.z;t.FromValuesToRef(i[0]*e,i[1]*e,i[2]*e,0,i[4]*s,i[5]*s,i[6]*s,0,i[8]*a,i[9]*a,i[10]*a,0,0,0,0,1,c.Matrix[0]),y.FromRotationMatrixToRef(c.Matrix[0],r)}return!0},t.prototype.getRow=function(t){if(t<0||t>3)return null;var o=4*t;return new h(this._m[o+0],this._m[o+1],this._m[o+2],this._m[o+3])},t.prototype.setRow=function(t,o){return this.setRowFromFloats(t,o.x,o.y,o.z,o.w)},t.prototype.transpose=function(){return t.Transpose(this)},t.prototype.transposeToRef=function(o){return t.TransposeToRef(this,o),this},t.prototype.setRowFromFloats=function(t,o,r,n,i){if(t<0||t>3)return this;var e=4*t;return this._m[e+0]=o,this._m[e+1]=r,this._m[e+2]=n,this._m[e+3]=i,this._markAsUpdated(),this},t.prototype.scale=function(o){var r=new t;return this.scaleToRef(o,r),r},t.prototype.scaleToRef=function(t,o){for(var r=0;r<16;r++)o._m[r]=this._m[r]*t;return o._markAsUpdated(),this},t.prototype.scaleAndAddToRef=function(t,o){for(var r=0;r<16;r++)o._m[r]+=this._m[r]*t;return o._markAsUpdated(),this},t.prototype.toNormalMatrix=function(o){var r=c.Matrix[0];this.invertToRef(r),r.transposeToRef(o);var n=o._m;t.FromValuesToRef(n[0],n[1],n[2],0,n[4],n[5],n[6],0,n[8],n[9],n[10],0,0,0,0,1,o)},t.prototype.getRotationMatrix=function(){var o=new t;return this.getRotationMatrixToRef(o),o},t.prototype.getRotationMatrixToRef=function(o){var r=c.Vector3[0];if(!this.decompose(r))return t.IdentityToRef(o),this;var n=this._m,i=1/r.x,e=1/r.y,s=1/r.z;return t.FromValuesToRef(n[0]*i,n[1]*i,n[2]*i,0,n[4]*e,n[5]*e,n[6]*e,0,n[8]*s,n[9]*s,n[10]*s,0,0,0,0,1,o),this},t.prototype.toggleModelMatrixHandInPlace=function(){var t=this._m;t[2]*=-1,t[6]*=-1,t[8]*=-1,t[9]*=-1,t[14]*=-1,this._markAsUpdated()},t.prototype.toggleProjectionMatrixHandInPlace=function(){var t=this._m;t[8]*=-1,t[9]*=-1,t[10]*=-1,t[11]*=-1,this._markAsUpdated()},t.FromArray=function(o,r){void 0===r&&(r=0);var n=new t;return t.FromArrayToRef(o,r,n),n},t.FromArrayToRef=function(t,o,r){for(var n=0;n<16;n++)r._m[n]=t[n+o];r._markAsUpdated()},t.FromFloat32ArrayToRefScaled=function(t,o,r,n){for(var i=0;i<16;i++)n._m[i]=t[i+o]*r;n._markAsUpdated()},Object.defineProperty(t,"IdentityReadOnly",{get:function(){return t._identityReadOnly},enumerable:!0,configurable:!0}),t.FromValuesToRef=function(t,o,r,n,i,e,s,a,u,h,y,f,c,p,l,x,m){var d=m._m;d[0]=t,d[1]=o,d[2]=r,d[3]=n,d[4]=i,d[5]=e,d[6]=s,d[7]=a,d[8]=u,d[9]=h,d[10]=y,d[11]=f,d[12]=c,d[13]=p,d[14]=l,d[15]=x,m._markAsUpdated()},t.FromValues=function(o,r,n,i,e,s,a,u,h,y,f,c,p,l,x,m){var d=new t,z=d._m;return z[0]=o,z[1]=r,z[2]=n,z[3]=i,z[4]=e,z[5]=s,z[6]=a,z[7]=u,z[8]=h,z[9]=y,z[10]=f,z[11]=c,z[12]=p,z[13]=l,z[14]=x,z[15]=m,d._markAsUpdated(),d},t.Compose=function(o,r,n){var i=new t;return t.ComposeToRef(o,r,n,i),i},t.ComposeToRef=function(t,o,r,n){var i=n._m,e=o.x,s=o.y,a=o.z,u=o.w,h=e+e,y=s+s,f=a+a,c=e*h,p=e*y,l=e*f,x=s*y,m=s*f,d=a*f,z=u*h,R=u*y,w=u*f,T=t.x,v=t.y,F=t.z;i[0]=(1-(x+d))*T,i[1]=(p+w)*T,i[2]=(l-R)*T,i[3]=0,i[4]=(p-w)*v,i[5]=(1-(c+d))*v,i[6]=(m+z)*v,i[7]=0,i[8]=(l+R)*F,i[9]=(m-z)*F,i[10]=(1-(c+x))*F,i[11]=0,i[12]=r.x,i[13]=r.y,i[14]=r.z,i[15]=1,n._markAsUpdated()},t.Identity=function(){var o=t.FromValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return o._updateIdentityStatus(!0),o},t.IdentityToRef=function(o){t.FromValuesToRef(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,o),o._updateIdentityStatus(!0)},t.Zero=function(){var o=t.FromValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);return o._updateIdentityStatus(!1),o},t.RotationX=function(o){var r=new t;return t.RotationXToRef(o,r),r},t.Invert=function(o){var r=new t;return o.invertToRef(r),r},t.RotationXToRef=function(o,r){var n=Math.sin(o),i=Math.cos(o);t.FromValuesToRef(1,0,0,0,0,i,n,0,0,-n,i,0,0,0,0,1,r),r._updateIdentityStatus(1===i&&0===n)},t.RotationY=function(o){var r=new t;return t.RotationYToRef(o,r),r},t.RotationYToRef=function(o,r){var n=Math.sin(o),i=Math.cos(o);t.FromValuesToRef(i,0,-n,0,0,1,0,0,n,0,i,0,0,0,0,1,r),r._updateIdentityStatus(1===i&&0===n)},t.RotationZ=function(o){var r=new t;return t.RotationZToRef(o,r),r},t.RotationZToRef=function(o,r){var n=Math.sin(o),i=Math.cos(o);t.FromValuesToRef(i,n,0,0,-n,i,0,0,0,0,1,0,0,0,0,1,r),r._updateIdentityStatus(1===i&&0===n)},t.RotationAxis=function(o,r){var n=new t;return t.RotationAxisToRef(o,r,n),n},t.RotationAxisToRef=function(t,o,r){var n=Math.sin(-o),i=Math.cos(-o),e=1-i;t.normalize();var s=r._m;s[0]=t.x*t.x*e+i,s[1]=t.x*t.y*e-t.z*n,s[2]=t.x*t.z*e+t.y*n,s[3]=0,s[4]=t.y*t.x*e+t.z*n,s[5]=t.y*t.y*e+i,s[6]=t.y*t.z*e-t.x*n,s[7]=0,s[8]=t.z*t.x*e-t.y*n,s[9]=t.z*t.y*e+t.x*n,s[10]=t.z*t.z*e+i,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,r._markAsUpdated()},t.RotationAlignToRef=function(t,o,r){var n=u.Cross(o,t),i=u.Dot(o,t),e=1/(1+i),s=r._m;s[0]=n.x*n.x*e+i,s[1]=n.y*n.x*e-n.z,s[2]=n.z*n.x*e+n.y,s[3]=0,s[4]=n.x*n.y*e+n.z,s[5]=n.y*n.y*e+i,s[6]=n.z*n.y*e-n.x,s[7]=0,s[8]=n.x*n.z*e-n.y,s[9]=n.y*n.z*e+n.x,s[10]=n.z*n.z*e+i,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,r._markAsUpdated()},t.RotationYawPitchRoll=function(o,r,n){var i=new t;return t.RotationYawPitchRollToRef(o,r,n,i),i},t.RotationYawPitchRollToRef=function(t,o,r,n){y.RotationYawPitchRollToRef(t,o,r,c.Quaternion[0]),c.Quaternion[0].toRotationMatrix(n)},t.Scaling=function(o,r,n){var i=new t;return t.ScalingToRef(o,r,n,i),i},t.ScalingToRef=function(o,r,n,i){t.FromValuesToRef(o,0,0,0,0,r,0,0,0,0,n,0,0,0,0,1,i),i._updateIdentityStatus(1===o&&1===r&&1===n)},t.Translation=function(o,r,n){var i=new t;return t.TranslationToRef(o,r,n,i),i},t.TranslationToRef=function(o,r,n,i){t.FromValuesToRef(1,0,0,0,0,1,0,0,0,0,1,0,o,r,n,1,i),i._updateIdentityStatus(0===o&&0===r&&0===n)},t.Lerp=function(o,r,n){var i=new t;return t.LerpToRef(o,r,n,i),i},t.LerpToRef=function(t,o,r,n){for(var i=n._m,e=t.m,s=o.m,a=0;a<16;a++)i[a]=e[a]*(1-r)+s[a]*r;n._markAsUpdated()},t.DecomposeLerp=function(o,r,n){var i=new t;return t.DecomposeLerpToRef(o,r,n,i),i},t.DecomposeLerpToRef=function(o,r,n,i){var e=c.Vector3[0],s=c.Quaternion[0],a=c.Vector3[1];o.decompose(e,s,a);var h=c.Vector3[2],f=c.Quaternion[1],p=c.Vector3[3];r.decompose(h,f,p);var l=c.Vector3[4];u.LerpToRef(e,h,n,l);var x=c.Quaternion[2];y.SlerpToRef(s,f,n,x);var m=c.Vector3[5];u.LerpToRef(a,p,n,m),t.ComposeToRef(l,x,m,i)},t.LookAtLH=function(o,r,n){var i=new t;return t.LookAtLHToRef(o,r,n,i),i},t.LookAtLHToRef=function(o,r,n,i){var e=c.Vector3[0],s=c.Vector3[1],a=c.Vector3[2];r.subtractToRef(o,a),a.normalize(),u.CrossToRef(n,a,e);var h=e.lengthSquared();0===h?e.x=1:e.normalizeFromLength(Math.sqrt(h)),u.CrossToRef(a,e,s),s.normalize();var y=-u.Dot(e,o),f=-u.Dot(s,o),p=-u.Dot(a,o);t.FromValuesToRef(e.x,s.x,a.x,0,e.y,s.y,a.y,0,e.z,s.z,a.z,0,y,f,p,1,i)},t.LookAtRH=function(o,r,n){var i=new t;return t.LookAtRHToRef(o,r,n,i),i},t.LookAtRHToRef=function(o,r,n,i){var e=c.Vector3[0],s=c.Vector3[1],a=c.Vector3[2];o.subtractToRef(r,a),a.normalize(),u.CrossToRef(n,a,e);var h=e.lengthSquared();0===h?e.x=1:e.normalizeFromLength(Math.sqrt(h)),u.CrossToRef(a,e,s),s.normalize();var y=-u.Dot(e,o),f=-u.Dot(s,o),p=-u.Dot(a,o);t.FromValuesToRef(e.x,s.x,a.x,0,e.y,s.y,a.y,0,e.z,s.z,a.z,0,y,f,p,1,i)},t.OrthoLH=function(o,r,n,i){var e=new t;return t.OrthoLHToRef(o,r,n,i,e),e},t.OrthoLHToRef=function(o,r,n,i,e){var s=2/o,a=2/r,u=2/(i-n),h=-(i+n)/(i-n);t.FromValuesToRef(s,0,0,0,0,a,0,0,0,0,u,0,0,0,h,1,e),e._updateIdentityStatus(1===s&&1===a&&1===u&&0===h)},t.OrthoOffCenterLH=function(o,r,n,i,e,s){var a=new t;return t.OrthoOffCenterLHToRef(o,r,n,i,e,s,a),a},t.OrthoOffCenterLHToRef=function(o,r,n,i,e,s,a){var u=2/(r-o),h=2/(i-n),y=2/(s-e),f=-(s+e)/(s-e),c=(o+r)/(o-r),p=(i+n)/(n-i);t.FromValuesToRef(u,0,0,0,0,h,0,0,0,0,y,0,c,p,f,1,a),a._markAsUpdated()},t.OrthoOffCenterRH=function(o,r,n,i,e,s){var a=new t;return t.OrthoOffCenterRHToRef(o,r,n,i,e,s,a),a},t.OrthoOffCenterRHToRef=function(o,r,n,i,e,s,a){t.OrthoOffCenterLHToRef(o,r,n,i,e,s,a),a._m[10]*=-1},t.PerspectiveLH=function(o,r,n,i){var e=new t,s=2*n/o,a=2*n/r,u=(i+n)/(i-n),h=-2*i*n/(i-n);return t.FromValuesToRef(s,0,0,0,0,a,0,0,0,0,u,1,0,0,h,0,e),e._updateIdentityStatus(!1),e},t.PerspectiveFovLH=function(o,r,n,i){var e=new t;return t.PerspectiveFovLHToRef(o,r,n,i,e),e},t.PerspectiveFovLHToRef=function(o,r,n,i,e,s){void 0===s&&(s=!0);var a=n,u=i,h=1/Math.tan(.5*o),y=s?h/r:h,f=s?h:h*r,c=(u+a)/(u-a),p=-2*u*a/(u-a);t.FromValuesToRef(y,0,0,0,0,f,0,0,0,0,c,1,0,0,p,0,e),e._updateIdentityStatus(!1)},t.PerspectiveFovReverseLHToRef=function(o,r,n,i,e,s){void 0===s&&(s=!0);var a=1/Math.tan(.5*o),u=s?a/r:a,h=s?a:a*r;t.FromValuesToRef(u,0,0,0,0,h,0,0,0,0,-n,1,0,0,1,0,e),e._updateIdentityStatus(!1)},t.PerspectiveFovRH=function(o,r,n,i){var e=new t;return t.PerspectiveFovRHToRef(o,r,n,i,e),e},t.PerspectiveFovRHToRef=function(o,r,n,i,e,s){void 0===s&&(s=!0);var a=n,u=i,h=1/Math.tan(.5*o),y=s?h/r:h,f=s?h:h*r,c=-(u+a)/(u-a),p=-2*u*a/(u-a);t.FromValuesToRef(y,0,0,0,0,f,0,0,0,0,c,-1,0,0,p,0,e),e._updateIdentityStatus(!1)},t.PerspectiveFovReverseRHToRef=function(o,r,n,i,e,s){void 0===s&&(s=!0);var a=1/Math.tan(.5*o),u=s?a/r:a,h=s?a:a*r;t.FromValuesToRef(u,0,0,0,0,h,0,0,0,0,-n,-1,0,0,-1,0,e),e._updateIdentityStatus(!1)},t.PerspectiveFovWebVRToRef=function(t,o,r,n,i){void 0===i&&(i=!1);var e=i?-1:1,s=Math.tan(t.upDegrees*Math.PI/180),a=Math.tan(t.downDegrees*Math.PI/180),u=Math.tan(t.leftDegrees*Math.PI/180),h=Math.tan(t.rightDegrees*Math.PI/180),y=2/(u+h),f=2/(s+a),c=n._m;c[0]=y,c[1]=c[2]=c[3]=c[4]=0,c[5]=f,c[6]=c[7]=0,c[8]=(u-h)*y*.5,c[9]=-(s-a)*f*.5,c[10]=-r/(o-r),c[11]=1*e,c[12]=c[13]=c[15]=0,c[14]=-2*r*o/(r-o),n._markAsUpdated()},t.GetFinalMatrix=function(o,r,n,i,e,s){var a=o.width,u=o.height,h=o.x,y=o.y,f=t.FromValues(a/2,0,0,0,0,-u/2,0,0,0,0,s-e,0,h+a/2,u/2+y,e,1),p=c.Matrix[0];return r.multiplyToRef(n,p),p.multiplyToRef(i,p),p.multiply(f)},t.GetAsMatrix2x2=function(t){var o=t.m;return new Float32Array([o[0],o[1],o[4],o[5]])},t.GetAsMatrix3x3=function(t){var o=t.m;return new Float32Array([o[0],o[1],o[2],o[4],o[5],o[6],o[8],o[9],o[10]])},t.Transpose=function(o){var r=new t;return t.TransposeToRef(o,r),r},t.TransposeToRef=function(t,o){var r=o._m,n=t.m;r[0]=n[0],r[1]=n[4],r[2]=n[8],r[3]=n[12],r[4]=n[1],r[5]=n[5],r[6]=n[9],r[7]=n[13],r[8]=n[2],r[9]=n[6],r[10]=n[10],r[11]=n[14],r[12]=n[3],r[13]=n[7],r[14]=n[11],r[15]=n[15],o._updateIdentityStatus(t._isIdentity,t._isIdentityDirty)},t.Reflection=function(o){var r=new t;return t.ReflectionToRef(o,r),r},t.ReflectionToRef=function(o,r){o.normalize();var n=o.normal.x,i=o.normal.y,e=o.normal.z,s=-2*n,a=-2*i,u=-2*e;t.FromValuesToRef(s*n+1,a*n,u*n,0,s*i,a*i+1,u*i,0,s*e,a*e,u*e+1,0,s*o.d,a*o.d,u*o.d,1,r)},t.FromXYZAxesToRef=function(o,r,n,i){t.FromValuesToRef(o.x,o.y,o.z,0,r.x,r.y,r.z,0,n.x,n.y,n.z,0,0,0,0,1,i)},t.FromQuaternionToRef=function(t,o){var r=t.x*t.x,n=t.y*t.y,i=t.z*t.z,e=t.x*t.y,s=t.z*t.w,a=t.z*t.x,u=t.y*t.w,h=t.y*t.z,y=t.x*t.w;o._m[0]=1-2*(n+i),o._m[1]=2*(e+s),o._m[2]=2*(a-u),o._m[3]=0,o._m[4]=2*(e-s),o._m[5]=1-2*(i+r),o._m[6]=2*(h+y),o._m[7]=0,o._m[8]=2*(a+u),o._m[9]=2*(h-y),o._m[10]=1-2*(n+r),o._m[11]=0,o._m[12]=0,o._m[13]=0,o._m[14]=0,o._m[15]=1,o._markAsUpdated()},t._updateFlagSeed=0,t._identityReadOnly=t.Identity(),t}(),c=function(){function t(){}return t.Vector3=e.a.BuildArray(6,u.Zero),t.Matrix=e.a.BuildArray(2,f.Identity),t.Quaternion=e.a.BuildArray(3,y.Zero),t}(),p=function(){function t(){}return t.Vector2=e.a.BuildArray(3,a.Zero),t.Vector3=e.a.BuildArray(13,u.Zero),t.Vector4=e.a.BuildArray(3,h.Zero),t.Quaternion=e.a.BuildArray(2,y.Zero),t.Matrix=e.a.BuildArray(8,f.Identity),t}();s.a.RegisteredTypes["BABYLON.Vector2"]=a,s.a.RegisteredTypes["BABYLON.Vector3"]=u,s.a.RegisteredTypes["BABYLON.Vector4"]=h,s.a.RegisteredTypes["BABYLON.Matrix"]=f}}]);
//# sourceMappingURL=088d5a4e-50927d53e3585e36b89f.js.map